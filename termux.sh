#!/usr/bin/env bash
set -Eeuo pipefail

ENC_SHA='c4d4afdc1b47e7042e1cd0832120a9903167e6ab1fe916e9f767bb35c95bbd19'

calc_sha() {
  python3 - <<'PY' 2>/dev/null
import base64, hashlib,sys
try:
    raw = base64.b64decode("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")
    print(hashlib.sha256(raw).hexdigest())
except Exception:
    sys.exit(2)
PY
}

got_sha="$(calc_sha)" || { echo "Integrity check failed (calc_sha)." >&2; exit 2; }
if [ "$got_sha" != "$ENC_SHA" ]; then
    echo "Integrity check failed (hash mismatch)." >&2
    exit 2
fi

python3 - <<'PY' | bash -s -- "$@"
import base64, hashlib, sys, shutil, subprocess, tempfile, os

enc_b64 = "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"
salt_b64 = "bycmB0U9uDW/jNzWfd/CXA=="
pass_b64 = "eGlZNG8xRDhHTUlxYjlMZHRDOTFkdGVLc1FqZ215Ylc="

try:
    enc_raw = base64.b64decode(enc_b64)
    salt = base64.b64decode(salt_b64)
    passphrase = base64.b64decode(pass_b64).decode('utf-8')
except Exception as e:
    sys.stderr.write("Embedded data decode failed: " + str(e) + "\\n")
    sys.exit(2)

key = hashlib.sha256(passphrase.encode('utf-8') + salt).digest()

try:
    from Crypto.Cipher import AES
    nonce = enc_raw[:12]
    ct_tag = enc_raw[12:]
    if len(ct_tag) < 16:
        raise ValueError("ciphertext too short")
    ct = ct_tag[:-16]
    tag = ct_tag[-16:]
    cipher = AES.new(key, AES.MODE_GCM, nonce=nonce)
    plain = cipher.decrypt_and_verify(ct, tag)
    sys.stdout.buffer.write(plain)
    sys.exit(0)
except Exception:
    pass

openssl = shutil.which("openssl")
if not openssl:
    sys.stderr.write("PyCryptodome not available and openssl not found\\n")
    sys.exit(3)

tmp_in = tempfile.NamedTemporaryFile(delete=False)
tmp_out = tempfile.NamedTemporaryFile(delete=False)
try:
    tmp_in.write(enc_raw)
    tmp_in.flush()
    tmp_in.close()

    hexkey = key.hex()
    hexiv = enc_raw[:12].hex()

    dd = subprocess.Popen(["dd", "if="+tmp_in.name, "bs=1", "skip=12"], stdout=subprocess.PIPE)
    openssl_proc = subprocess.Popen([openssl, "enc", "-aes-256-gcm", "-d", "-K", hexkey, "-iv", hexiv, "-out", tmp_out.name], stdin=dd.stdout)
    dd.stdout.close()
    openssl_proc.wait()
    if openssl_proc.returncode != 0:
        raise RuntimeError("openssl decryption failed")

    with open(tmp_out.name, "rb") as f:
        data = f.read()
    sys.stdout.buffer.write(data)
finally:
    try:
        os.unlink(tmp_in.name)
    except Exception:
        pass
    try:
        os.unlink(tmp_out.name)
    except Exception:
        pass

PY

status=$?
if [ "$status" -eq 0 ]; then
    rm -f -- "$0" || true
fi
exit "$status"
